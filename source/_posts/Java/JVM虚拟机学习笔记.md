## Java虚拟机

### 1、Java虚拟机栈帧是什么？

Java虚拟机栈（Java Virtual Machine Stack），早期也叫Java栈，其内部保存着一个一个栈帧（Stack Frame），对应着一次一次的Java方法调用，为线程私有

- 栈帧的内部结构：
  - 局部变量表
  - 操作数栈（表达式栈）
  - 动态链接（指向运行时常量池的方法引用）
  - 方法返回地址（方法正常退出或者异常退出的定义）
  - 一些附加信息

#### a、局部变量表

也称之为局部变量数组或本地变量表

定义为一个数字数组，主要用于存储方法参数和定义在方法体内部的局部变量，这些数据类型包括基本数据类型、对象引用、returnAdress类型

局部变量表建立在线程的栈上，线程的私有数据

所需要的容量大小在编译期间就确定了



### 2、Java虚拟机生命周期

生命周期与线程一致



### 3、Java虚拟机的作用

保存局部变量、部分结果，并参与方法的调用与返回

> 局部变量 VS 成员变量
>
> 基本数据变量 VS 引用类型变量（类、数组、接口）



### 4、Java虚拟机的特点

（1）快速有效的分配存储方式

（2）JVM对Java栈的操作只有两个

> 每个方法执行，伴随着进栈（入栈、压栈）
>
> 执行结束后的出栈工作

（3）对于栈来说不存在垃圾回收的问题

>  GC、OOM



### 5、栈中可能出现的问题

StackOverflowError、OutOfMemoryError
